import{r as c,j as e,s as g}from"./index-371a4e8f.js";import{a as y}from"./AutoAwesomeMotion-e68ec9ef.js";import{S as k,D as v,a as V,d as C,b as S}from"./Cancel-e1a5b8c1.js";import{u as D,C as d}from"./index.esm-dbde89ce.js";import{d as w}from"./Add-b80d7046.js";import{S as i}from"./react-select.esm-68469137.js";import{I as B,B as _}from"./MenuItem-0a823130.js";import{D as q}from"./DialogActions-8285de49.js";import{B as T}from"./Button-c29e04f7.js";const F=c.forwardRef(function(n,s){return e.jsx(k,{direction:"up",ref:s,...n})}),Q=g(B)({position:"absolute",right:"16px",top:"4px"});function J({open:u,onCloseDialogEdit:n,item:s,onSubmit:h,capkhen:x,hinhthuc:m,chidoans:p}){const{register:r,handleSubmit:f,control:o,resetField:E,setValue:a,watch:P,formState:{errors:R}}=D({defaultValues:{}}),[b,j]=c.useState("");c.useEffect(()=>{s&&(j(s.cap),a("soQD",s.soQD,{shouldValidate:!0}),a("hinhthuc",{label:s.hinhthuc.hinhthuckhen,value:s.hinhthuc._id},{shouldValidate:!0}),a("capkhen",{label:s.capkhen.capkhen,value:s.capkhen._id},{shouldValidate:!0}),a("noidung",s.noidung,{shouldValidate:!0}),a("ngayky",s.ngayky,{shouldValidate:!0}),a("nguoiky",s.nguoiky,{shouldValidate:!0}),a("taptheduockhenthuong",{value:s.tapthe_id,label:s.tapthe},{shouldValidate:!0}))},[s]);const N=async l=>{if(h){const t={...l,id_edit:s._id,capkhenBefore:b};await h(t),n()}};return e.jsx(e.Fragment,{children:e.jsxs(v,{maxWidth:"xl",fullWidth:!0,disableEscapeKeyDown:!0,onClose:(l,t)=>{t!=="backdropClick"&&n(l,t)},open:u,TransitionComponent:F,keepMounted:!0,"aria-describedby":"alert-dialog-slide-description",children:[e.jsxs(V,{style:{display:"flex",borderBottom:"1px solid #ccc",backgroundColor:"#03528f",margin:"0px"},children:[e.jsx(y,{style:{color:"white",fontSize:"24px",marginRight:"8px"}}),e.jsx("span",{className:"text-white text-[18px]",children:"Chỉnh sửa khen thưởng tập thể"}),e.jsx(Q,{onClick:()=>n(),children:e.jsx(C,{style:{color:"white"}})})]}),e.jsx(S,{children:e.jsx(_,{children:e.jsx("form",{className:"mt-2 mx-8",onSubmit:f(N),children:e.jsxs("div",{className:"flex flex-wrap xl:flex-row flex-col flex-1 p-2",children:[e.jsxs("div",{className:"flex-col md:basis-1/3 flex flex-1 px-1",children:[e.jsxs("label",{className:"underline font-semibold",children:[e.jsx("span",{className:"text-red-600 font-semibold",children:" (*)"})," Số QĐ khen thưởng: "]}),e.jsx("input",{...r("soQD",{required:!0}),type:"text",className:`outline-none my-4 border rounded-md p-2 border-neutral-600\r
                  focus:border-blue-500 focus:border-2`})]}),e.jsxs("div",{className:"flex-col md:basis-1/3 flex flex-1 px-1",children:[e.jsxs("label",{className:"underline font-semibold",children:[e.jsx("span",{className:"text-red-600 font-semibold",children:" (*)"})," Ngày ký: "]}),e.jsx("input",{...r("ngayky",{required:!0}),type:"date",className:`outline-none my-4 border rounded-md p-2 border-neutral-600\r
                  focus:border-blue-500 focus:border-2`})]}),e.jsxs("div",{className:"flex-col md:basis-1/3 flex flex-1 px-1",children:[e.jsxs("label",{className:"underline font-semibold",children:[e.jsx("span",{className:"text-red-600 font-semibold",children:" (*)"})," Người ký: "]}),e.jsx("input",{...r("nguoiky",{required:!0}),type:"text",className:`outline-none my-4 border rounded-md p-2 border-neutral-600\r
                  focus:border-blue-500 focus:border-2`})]}),e.jsxs("div",{className:"flex-col md:basis-full flex flex-1 px-1",children:[e.jsxs("label",{className:"underline font-semibold",children:[e.jsx("span",{className:"text-red-600 font-semibold",children:" (*)"})," Nội dung khen thưởng: "]}),e.jsx("input",{...r("noidung",{required:!0}),type:"text",className:`outline-none my-4 border rounded-md p-2 border-neutral-600\r
                  focus:border-blue-500 focus:border-2`})]}),e.jsxs("div",{className:"flex-col md:basis-1/2 flex flex-1 px-1",children:[e.jsxs("label",{className:"underline font-semibold",children:[e.jsx("span",{className:"text-red-600 font-semibold",children:" (*)"})," Hình thức khen: "]}),e.jsx(d,{control:o,name:"hinhthuc",render:({field:l})=>e.jsx(i,{options:m,className:"basic-multi-select my-4 p-1",classNamePrefix:"select",placeholder:"Vui lòng chọn hình thức",required:!0,...l})})]}),e.jsxs("div",{className:"flex-col md:basis-1/2 flex flex-1 px-1",children:[e.jsxs("label",{className:"underline font-semibold",children:[e.jsx("span",{className:"text-red-600 font-semibold",children:" (*)"}),"Cấp khen: "]}),e.jsx(d,{control:o,name:"capkhen",render:({field:l})=>e.jsx(i,{options:x,className:"basic-multi-select my-4 p-1",classNamePrefix:"select",placeholder:"Vui lòng chọn cấp khen",required:!0,...l})})]}),e.jsxs("div",{className:"flex-col md:basis-full flex flex-1 px-1",children:[e.jsxs("label",{className:"underline font-semibold",children:[e.jsx("span",{className:"text-red-600 font-semibold",children:" (*)"}),"Tập thể được khen thưởng: "]}),e.jsx(d,{control:o,name:"taptheduockhenthuong",render:({field:l})=>e.jsx(i,{options:p,className:"basic-multi-select my-4 p-1",classNamePrefix:"select",placeholder:"Vui lòng chọn tập thể được khen thưởng",required:!0,...l})})]}),e.jsx(q,{children:e.jsxs(T,{color:"primary",variant:"contained",type:"submit",style:{margin:"4px auto"},children:[e.jsx(w,{}),e.jsx("span",{children:"Cập nhật"})]})})]})})})})]})})}export{J as D};
