import{r as l,j as e,s as b}from"./index-469ebc4a.js";import{a as j}from"./AutoAwesomeMotion-01db5c5f.js";import{D as g,a as y,d as N,b as S,S as w}from"./Cancel-be6c3443.js";import{S as B}from"./react-select.esm-ea0f231f.js";import"./index.esm-a80e06b2.js";import{u as v,C}from"./index.esm-e24acc70.js";import"./dayjs.min-e05fe7c1.js";import{d as _}from"./Quantridoanvien-3f7f0166.js";import{b as D}from"./bachamApi-a4cbbf58.js";import{B as k,I as E}from"./MenuItem-22e0308b.js";import{D as T}from"./DialogActions-425572d2.js";import{B as V}from"./Button-e3d685a6.js";import"./createSvgIcon-e7baeffd.js";import"./ButtonBase-ea83d2d9.js";import"./memoize-one.esm-c82963f8.js";import"./Search-9d8f7eda.js";import"./base-e8aaf39e.js";import"./canboApi-a16ae5b6.js";import"./LastPage-511a91a0.js";import"./Edit-1cb268c9.js";import"./MoveDown-31c51e7a.js";import"./MilitaryTech-3c69c6b7.js";import"./Add-c692c54c.js";import"./chucvuApi-369cfb0f.js";import"./DialogDelete-28d67f98.js";const P=l.forwardRef(function(a,t){return e.jsx(w,{direction:"up",ref:t,...a})}),q=b(E)({position:"absolute",right:"16px",top:"4px"});function le({open:i,item:a,onCloseDialogChangeBacHam:t,onSubmit:n}){var d;const r=v({defaultValues:{ghichu:"",ngaylenham:""}}),[p,u]=l.useState([]),h=r.setValue;r.watch,l.useEffect(()=>{(async()=>{try{let s=await D.getBachams();u(s.data.map(m=>({value:m._id,label:m.bacham})))}catch(s){console.log(s.message)}})()},[]),l.useEffect(()=>{a&&h("bacham",{value:a==null?void 0:a.bachamPopulate[0]._id,label:a==null?void 0:a.bachamPopulate[0].bacham},{shouldValidate:!0})},[a]);const x=async o=>{if(n){const s={...o,id_edit:a._id};await n(s),t()}},{isSubmitting:f}=r.formState,{register:c}=r;return e.jsx(e.Fragment,{children:e.jsxs(g,{maxWidth:"lg",fullWidth:!0,disableEscapeKeyDown:!0,onClose:(o,s)=>{s!=="backdropClick"&&t(o,s)},open:i,TransitionComponent:P,keepMounted:!0,"aria-describedby":"alert-dialog-slide-description",children:[e.jsxs(y,{style:{display:"flex",borderBottom:"1px solid #ccc",backgroundColor:"#03528f",margin:"0px"},children:[e.jsx(j,{style:{color:"white",fontSize:"24px",marginRight:"8px"}}),e.jsxs("span",{className:"text-white text-[18px]",children:['Thay đổi cấp bậc hàm đối với đồng chí "',(d=a==null?void 0:a.bachamPopulate[0])==null?void 0:d.bacham," ",a==null?void 0:a.hoten,'"']}),e.jsx(q,{onClick:()=>t(),children:e.jsx(N,{style:{color:"white"}})})]}),e.jsx(S,{children:e.jsx(k,{children:e.jsxs("form",{onSubmit:r.handleSubmit(x),style:{width:"100%"},children:[e.jsxs("div",{className:"flex flex-wrap flex-col flex-1 p-2",children:[e.jsxs("div",{className:"flex-col flex flex-1 px-1",children:[e.jsx("label",{className:"underline font-semibold",children:"Cấp bậc hàm mới:"}),e.jsx(C,{control:r.control,name:"bacham",render:({field:o})=>e.jsx(B,{options:p,className:"basic-multi-select my-4 p-1",classNamePrefix:"select",placeholder:"Vui lòng chọn cấp hàm",required:!0,...o})})]}),e.jsxs("div",{className:"flex-col flex flex-1 px-1",children:[e.jsxs("label",{className:"underline font-semibold",children:[e.jsx("span",{className:"text-red-600 font-semibold",children:" (*)"})," Ngày lên quân hàm: "]}),e.jsx("input",{...c("ngaylenham"),placeholder:"dd-mm-yyyy",type:"date",className:`outline-none my-4 border rounded-md p-2 border-neutral-600\r
                  focus:ring-2 focus:border-blue-400`,required:!0})]}),e.jsxs("div",{className:"flex-col flex flex-1 px-1",children:[e.jsx("label",{className:"underline font-semibold",children:" Ghi chú: "}),e.jsx("input",{...c("ghichu"),placeholder:"Ghi chú",type:"text",className:`outline-none my-4 border rounded-md p-2 border-neutral-600\r
                  focus:ring-2 focus:border-blue-400`})]})]}),e.jsx(T,{children:e.jsxs(V,{color:"primary",variant:"contained",disabled:f,type:"submit",style:{margin:"4px auto"},children:[e.jsx(_,{}),e.jsx("span",{children:"Lưu dữ liệu"})]})})]})})})]})})}export{le as default};
