import{r as d,j as e,c as R,d as D,u as _,Q as y,N as $,e as z}from"./index-469ebc4a.js";import"./index.esm-a80e06b2.js";import{d as C}from"./Search-9d8f7eda.js";import{T as j,a as t,P as f,b as M,c as L,d as O,e as A,f as H,g as v,h as P,i as N,j as k}from"./LastPage-511a91a0.js";import{d as Y}from"./Edit-1cb268c9.js";import{d as q}from"./dayjs.min-e05fe7c1.js";import{P as E,B as I,I as b}from"./MenuItem-22e0308b.js";import"./index-a8606d44.js";import{c as Q}from"./canboApi-a16ae5b6.js";import{B as W}from"./Button-e3d685a6.js";import"./createSvgIcon-e7baeffd.js";import"./ButtonBase-ea83d2d9.js";const F=({row:n,page:s,rowsPerPage:r,index:a})=>(d.useState(!1),d.useState(null),e.jsxs(j,{className:"hover:bg-slate-200 transition duration-300",children:[e.jsx(t,{className:"border-r border-slate-300",align:"left",style:{fontWeight:"bold"},children:s*r+a}),e.jsx(t,{className:"border-r border-slate-300",align:"left",children:e.jsx("span",{className:"font-semibold",children:n.hoten})}),e.jsx(t,{className:"border-r border-slate-300",align:"left",children:q(n.ngaysinh).format("DD/MM/YYYY")}),e.jsx(t,{className:"border-r border-slate-300",align:"left",children:n.yeucauChuyencongtac.target.tenhienthi}),e.jsx(t,{className:"border-r border-slate-300",align:"left",children:n.yeucauChuyencongtac.ghichu}),e.jsx(t,{align:"right",className:" flex justify-center items-center space-x-1 transition duration-300",style:{width:"120px"},children:e.jsx("span",{className:"text-center p-2 hover:cursor-pointer hover:opacity-60",title:"Xem trang cá nhân",children:e.jsx(Y,{style:{fontSize:"24px",color:"red"}})})})]},n._id));function T(n){const s=R(),{count:r,page:a,rowsPerPage:p,onPageChange:i}=n,m=l=>{i(l,0)},h=l=>{i(l,a-1)},c=l=>{i(l,a+1)},g=l=>{i(l,Math.max(0,Math.ceil(r/p)-1))};return e.jsxs(I,{sx:{flexShrink:0,ml:2.5},children:[e.jsx(b,{onClick:m,disabled:a===0,"aria-label":"first page",children:s.direction==="rtl"?e.jsx(v,{}):e.jsx(P,{})}),e.jsx(b,{onClick:h,disabled:a===0,"aria-label":"previous page",children:s.direction==="rtl"?e.jsx(N,{}):e.jsx(k,{})}),e.jsx(b,{onClick:c,disabled:a>=Math.ceil(r/p)-1,"aria-label":"next page",children:s.direction==="rtl"?e.jsx(k,{}):e.jsx(N,{})}),e.jsx(b,{onClick:g,disabled:a>=Math.ceil(r/p)-1,"aria-label":"last page",children:s.direction==="rtl"?e.jsx(P,{}):e.jsx(v,{})})]})}T.propTypes={count:f.number.isRequired,onPageChange:f.func.isRequired,page:f.number.isRequired,rowsPerPage:f.number.isRequired};function U({list:n}){const[s,r]=d.useState(0),[a,p]=d.useState(10);d.useEffect(()=>{},[n]);const i=s>0?Math.max(0,(1+s)*a-n.length):0,m=(c,g)=>{r(g)},h=c=>{p(parseInt(c.target.value,10)),r(0)};return e.jsxs(e.Fragment,{children:[e.jsx(M,{component:E,children:e.jsxs(L,{"aria-label":"custom pagination table",children:[e.jsx(O,{children:e.jsxs(j,{children:[e.jsx(t,{align:"left",style:{fontSize:"14px",color:"#fff",padding:"8px 8px",backgroundColor:"rgb(143 1 1)"},children:"#"}),e.jsx(t,{align:"left",style:{fontSize:"14px",color:"#fff",padding:"8px 8px",backgroundColor:"rgb(143 1 1)"},children:"Họ và tên"}),e.jsx(t,{align:"left",style:{fontSize:"14px",color:"#fff",padding:"8px 8px",backgroundColor:"rgb(143 1 1)"},children:"Ngày sinh"}),e.jsx(t,{align:"left",style:{fontSize:"14px",color:"#fff",padding:"8px 8px",minWidth:"100px",backgroundColor:"rgb(143 1 1)"},children:"Đơn vị sẽ chuyển đến"}),e.jsx(t,{align:"left",style:{fontSize:"14px",color:"#fff",padding:"8px 8px",minWidth:"100px",backgroundColor:"rgb(143 1 1)"},children:"Nội dung ghi chú"}),e.jsx(t,{align:"center",style:{fontSize:"14px",color:"#fff",padding:"8px 8px",backgroundColor:"rgb(143 1 1)",width:"100px"},children:"Thao tác"})]})}),e.jsxs(A,{children:[(a>0?n.slice(s*a,s*a+a):n).map((c,g)=>e.jsx(F,{row:c,page:s,rowsPerPage:a,index:g+1},c._id)),i>0&&e.jsx(j,{style:{height:53*i},children:e.jsx(t,{colSpan:6})})]})]})}),e.jsx("div",{children:e.jsx(H,{rowsPerPageOptions:[10,25,50,100,{label:"Tất cả",value:-1}],count:n.length,rowsPerPage:a,page:s,SelectProps:{inputProps:{"aria-label":"rows per page"},native:!0},component:"div",onPageChange:m,onRowsPerPageChange:h,ActionsComponent:T,labelRowsPerPage:"Số bản ghi hiển thị trên mỗi trang",labelDisplayedRows:function({from:g,to:l,count:u}){return`hiển thị ${g} đến ${l} bản ghi trong tổng số ${u!==-1?u:`more than ${l}`} bản ghi`}})})]})}const re=()=>{let n=D(x=>x.authReducer.vaitro_theodoithidua);const s=_();if(n!=="Quản trị thông thường")return y.error("Tài khoản không có truy cập trang này",{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!1,pauseOnHover:!1,draggable:!1,progress:void 0,theme:"light"}),e.jsx($,{to:"/login",replace:!0});const[r,a]=d.useState([]),[p,i]=d.useState([]),[m,h,c,g,l]=z(),[u,S]=d.useState("");d.useEffect(()=>{(async()=>{h(!0);try{let o=await Q.fetchCanboDangDoiChuyenCongtac();l(),a(o.data),i(o.data),h(!1)}catch(o){o.message==="Token không hợp lệ hoặc đã hết hạn. Vui lòng đăng nhập lại"&&(s("/login"),h(!1),y.error(o.message,{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!1,pauseOnHover:!1,draggable:!1,progress:void 0,theme:"light"})),h(!1),console.log(o.message)}})()},[]);const w=x=>{x.preventDefault();let o=[...p];o=o.filter(B=>B.hoten.toUpperCase().includes(u.toUpperCase())),a(o)};return e.jsxs("div",{"data-aos":"fade-left","data-aos-once":"true",children:[e.jsx("div",{className:"my-2",children:e.jsx("h4",{className:"uppercase font-bold text-blue-800 text-sm md:text-[18px]",children:"Quản trị cán bộ, chiến sĩ đang đợi xác nhận chuyển công tác đến đơn vị khác"})}),e.jsxs("div",{className:"mt-6",children:[e.jsx("div",{className:"shadow-md shadow-gray-400 mr-2",children:e.jsxs("form",{className:"mt-2 px-4 py-4 bg-slate-200 rounded-md md:bg-white",onSubmit:x=>w(x),children:[e.jsxs("h5",{className:"font-bold",children:[e.jsx(C,{})," Tra cứu cán bộ, chiến sĩ"]}),e.jsx("div",{className:"flex flex-col md:flex-row md:items-center flex-wrap",children:e.jsxs("div",{className:"flex-col flex flex-1 px-2",children:[e.jsx("label",{className:"text-[14px] font-semibold",children:" Họ và tên: "}),e.jsx("input",{value:u,name:"tentaikhoanSearch",onChange:x=>S(x.target.value),type:"text",className:`outline-none my-2 border rounded-md p-2 px-3 border-neutral-600\r
                  focus:border-blue-500 focus:border-2`})]})}),e.jsx("div",{className:"md:space-x-2  ml-2  space-y-2 mt-2 md:space-y-0 md:block flex flex-col items-center",children:e.jsxs(W,{type:"submit",size:"small",sx:{width:"220px"},variant:"contained",children:[e.jsx(C,{})," Tìm kiếm"]})})]})}),e.jsxs("div",{className:"shadow-md shadow-gray-400 mr-2",children:[e.jsx("p",{className:"text-center text-lg mt-8 font-semibold mb-8",children:"Danh sách cán bộ, chiến sĩ đang đợi xác nhận chuyển công tác đến đơn vị khác"}),e.jsx("div",{className:"px-2",children:e.jsx(U,{list:r})})]})]})]})};export{re as default};
